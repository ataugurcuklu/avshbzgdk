---
import type { TopicData } from "../../lib/database";

interface Props {
  topic: TopicData;
  size?: 'sm' | 'md' | 'lg';
  href?: string;
  className?: string;
}

const { topic, size = 'md', href, className = "" } = Astro.props;

const sizeClasses = {
  sm: 'px-2 py-1 text-xs',
  md: 'px-3 py-1 text-sm',
  lg: 'px-4 py-2 text-base'
};

const Component = href ? 'a' : 'span';
---

<Component
  href={href}
  class={`inline-flex items-center rounded-full font-medium transition-all duration-200 ${sizeClasses[size]} ${className}`}
  style={`background-color: ${topic.color}20; color: ${topic.color}; border: 1px solid ${topic.color}40;`}
  {...(href && {
    'data-astro-prefetch': true
  })}
>
  <svg class={`${size === 'sm' ? 'w-3 h-3' : size === 'lg' ? 'w-5 h-5' : 'w-4 h-4'} mr-1`} fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
  </svg>
  {topic.name}
</Component>

<style>
  a:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
</style>